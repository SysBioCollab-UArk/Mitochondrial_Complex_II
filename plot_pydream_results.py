from Data.Flav_Fumarate_FAD.run_complex_II_pydream import *
import glob
import os

# Create plots using output files already generated by PyDREAM using the calibrator.create_figures() function

# get the existing PyDREAM output files
path = "Data/Flav_Fumarate_FAD" #os.getcwd()  # path to where PyDREAM generated files are
logps_files = glob.glob(os.path.join(path, 'dreamzs*logps*'))  # need to pass ALL 'logps' files
samples_files = glob.glob(os.path.join(path, 'dreamzs*params*'))  # need to pass ALL 'params' files

if not os.path.isabs(exp_data_file):
    exp_data_file = os.path.normpath(os.path.join(path, exp_data_file))

# create the ParameterCalibration object (copy from the original file where PyDREAM was run from)
calibrator = ParameterCalibration(model,
                                  exp_data_file,
                                  [sim_protocol_dicarb_wAF2, sim_protocol_dicarb_noAF2,
                                   sim_protocol_fad_wAF2, sim_protocol_fad_noAF2],
                                  priors=custom_priors,
                                  no_sample=no_sample)

# call the 'create_figures' function
calibrator.create_figures(logps_files, samples_files, show_plots=True, plot_tc_args={'separate_plots': False},
                          which_plots=1)
